
from .models import Review
from django import forms
from django.utils.safestring import mark_safe


# Review form
class FormReview(forms.ModelForm):
    # Credit for adapted choices on TypedChoiceField
    # See README.md for more details
    rating = forms.TypedChoiceField(
        choices=(
            (1, mark_safe('<span class="highlight text-center altFont"> Rubbish!</span>')),
            (2, mark_safe('<span class="highlight text-center altFont"> Ok I guess</span>')),
            (3, mark_safe('<span class="highlight text-center altFont"> Averagely average</span>')),
            (4, mark_safe('<span class="highlight text-center altFont"> Pleasantly impressed</span>')),
            (5, mark_safe('<span class="highlight text-center altFont"> Outstanding</span>'))
            ),
        widget=forms.RadioSelect,
    )

    class Meta:
        model = Review
        fields = ['review', 'rating']
        exclude = ['added_by']
        widgets = {
            'review': forms.Textarea(attrs={'placeholder': 'Tell us what you think...', 'class': 'altFont'})
        }

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        # Remove labels auto generated by form
        self.fields['review'].label = False
        self.fields['rating'].label = False
